<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Мобильное приложение</title>
    <link rel="stylesheet" href="./css/main_styles.css">
    <link rel="stylesheet" href="./css/styles.css">
</head>
<body>
        <!-- Главная страница -->
    <div id="home" class="page active">
        <h1>Главная</h1>
        <button class="nav-button" onclick="openPage('create_certificate')">Создать один сертификат</button>
        <button class="nav-button" onclick="openPage('create_n_certificate')">Создать несколько сертификатов</button>
    </div>

    <!-- Страница 2 -->
    <div id="settings" class="page">
        <h1>Настройки</h1>
        <p>Здесь вы можете настроить приложение.</p>
    </div>

    <!-- Страница 3 -->
    <div id="create_certificate" class="page">
        <h1>Создать сертификат</h1>
        <div class="create_certificate-form">
            <form id="create_certificateForm">
                <div class="form-group">
                    <label for="buyer_name">Имя пользователя:</label>
                    <input type="text" id="buyer_name" name="buyer_name" required>
                </div>
                <div class="form-group">
                    <label for="buyer_phone">Email:</label>
                    <input type="text" id="buyer_phone" name="buyer_phone" required>
                </div>
                <div class="form-group">
                    <label for="recipient_name">Пароль:</label>
                    <input type="text" id="recipient_name" name="recipient_name" required>
                </div>
                <div class="form-group">
                    <label for="recipient_phone">Подтвердите пароль:</label>
                    <input type="password" id="recipient_phone" name="recipient_phone" required>
                </div>
                <div class="form-group">
                    <label for="amount">На сумму:</label>
                    <input type="number" id="amount" name="amount" required>
                </div>
                <button class="submit-button" type="submit">Создать</button>
            </form>
            <button class="back-button" onclick="goBack()">Назад</button>
        </div>
        <script src="https://telegram.org/js/telegram-web-app.js"></script>
        <script>
            let tg = window.Telegram.WebApp;
            let submit = document.getElementById("submit-button");
            tg.expand();
    
            submit.addEventListener("click", () => {
                let buyerName = document.getElementById("buyer_name").value;
                let buyerPhone = document.getElementById("buyer_phone").value;
                let recipientName = document.getElementById("recipient_name").value;
                let recipientPhone = document.getElementById("recipient_phone").value;
                let amount = document.getElementById("amount").value;
    
                let data ={
                    buyer_name: buyer_name,
                    buyerPhone: buyer_phone,
                    recipientName: recipient_name,
                    recipientPhone: recipient_phone,
                    amount: amount
                }
    
                tg.sendData(JSON.stringify(data));
    
                tg.close();
            })
        </script>
    </div>

    <!-- Страница 4 -->
    <div id="create_n_certificate" class="page">
        <h1>Создать сертификаты</h1>
        <div class="create_certificate-form">
            <form id="create_certificateForm">
                <div class="form-group">
                    <label for="buyer_name">Имя пользователя:</label>
                    <input type="text" id="buyer_name" name="buyer_name" required>
                </div>
                <div class="form-group">
                    <label for="buyer_phone">Email:</label>
                    <input type="text" id="buyer_phone" name="buyer_phone" required>
                </div>
                <div class="form-group">
                    <label for="recipient_name">Пароль:</label>
                    <input type="text" id="recipient_name" name="recipient_name" required>
                </div>
                <div class="form-group">
                    <label for="recipient_phone">Подтвердите пароль:</label>
                    <input type="password" id="recipient_phone" name="recipient_phone" required>
                </div>
                <div class="form-group">
                    <label for="amount">На сумму:</label>
                    <input type="number" id="amount" name="amount" required>
                </div>
                <div class="form-group">
                    <label for="cert_count">Кол-во сертификатов</label>
                    <input type="number" id="cert_count" name="cert_count" required>
                </div>
                <button class="submit-button" type="submit">Создать</button>
            </form>
            <button class="back-button" onclick="goBack()">Назад</button>
        </div>
        <script src="https://telegram.org/js/telegram-web-app.js"></script>
        <script>
            let tg2 = window.Telegram.WebApp;
            let submit2 = document.getElementById("submit-button");
            tg.expand();
    
            submit.addEventListener("click", () => {
                let buyerName = document.getElementById("buyer_name").value;
                let buyerPhone = document.getElementById("buyer_phone").value;
                let recipientName = document.getElementById("recipient_name").value;
                let recipientPhone = document.getElementById("recipient_phone").value;
                let amount = document.getElementById("amount").value;
                let cert_count = document.getElementById("cert_count").value;
    
                let data ={
                    buyer_name: buyer_name,
                    buyerPhone: buyer_phone,
                    recipientName: recipient_name,
                    recipientPhone: recipient_phone,
                    amount: amount,
                    cert_count: cert_count
                }
    
                tg.sendData(JSON.stringify(data));
    
                tg.close();
            })
        </script>
    </div>

    <!-- Tab Bar -->
    <div class="tab-bar">
        <button class="tab-button active" onclick="switchPage('home')">
            <span>Главная</span>
        </button>
        <button class="tab-button" onclick="switchPage('settings')">
            <span>Настройки</span>
        </button>
    </div>

    <script src="./main.js"></script>
</body>
</html>
